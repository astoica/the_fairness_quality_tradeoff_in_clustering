# README 

## Description of repository
This repository contains the data and code for the paper "The Fairness-Quality Trade-off in Clustering". An overview of the code and data can be found below, as well as instructions for reproducing the results. 

### Data: all datasets used are found in the 'data' folder.
- Adult dataset: `data/adult.csv`
- Census dataset: `data/subsampled_census1990.csv`
- BlueBike dataset: `data/bluebikedata_201501_binarygender.csv`
  Note: the Census dataset has been subsampled as per 'Fair Clustering under a Bounded Cost' paper methodology (https://proceedings.neurips.cc/paper_files/paper/2021/hash/781877bda0783aac5f1cf765c128b437-Abstract.html); the BlueBike dataset has been processed to remove the (few) rows with unknown gender.

### Code: 
- Algorithm 1: `pareto_curve_alg1.py`
- Algorithm 2: `repeated_FCBC_grouputil_alg2.py` for the Group Utilitarian objective and `repeated_FCBC_groupegalit_alg2.py` for the Group Egalitarian objective.
- Plots: generate_plots_paretofront_fig1.py and generate_plots_paretofront_fig2.py
Note: edit the `.py` files to run Algorithms 1 and 2 on subsamples of the dataset, for different fairness objectives.

### Other files: 
- output/ contains all the files generated by Algorithms 1 and 2 used to for Figures 1 and 2 in the main text of the paper; the figures can be reproduced with the code above, without having to re-run Algorithms 1 and 2.
- *.py files: auxiliary files needed for running Algorithms 1 and 2. Some of the files have been adapted from the codebase of 'Fair Clustering under a Bounded Cost' paper for the implementation of the repeated FCBC algorithm (Algorithm 2). All such files are marked accordingly. The repository for the code for 'Fair Clustering under a Bounded Cost' can be found at this link: https://github.com/Seyed2357/Fair-Clustering-Under-Bounded-Cost.

## Requirements: 
- To install the required packages to run the code, run `pip install -r requirements.txt`.  
- To install CPLEX, visit the IBM website and navigate to the proper license (student, academic, professional, etc.), and follow the installation guide provided by IBM. Note that a free version of CPLEX for models with less than 1,000 variables and constraints can be directly installed as: `pip install cplex`. However, for running Algorithm 2 or the original FCBC algorithm on larger data sizes, the full CPLEX module is needed. 
